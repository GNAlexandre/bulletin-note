{% extends 'base.html.twig' %}

{% block title %}Hello EleveController!{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="page_acceuil">Acceuil</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/logout">Deconnexion</a>
                </li>
            </ul>
        </div>
    </nav><br>


    <!-- Fin du Bootstrap-->
<body class="body2">
<div class="example-wrapper">
    <h1>Page des Elevesâœ…</h1>

    {% if is_granted('IS_AUTHENTICATED_FULLY') %} {# permet de verifier la connection #}
        <p>Username: {{ Affichage[1] }}</p>
    {% endif %}
    <table>
        <tr>
            <td> Matiere </td>
            <td> Note</td>
            <td> Date du Control</td>
        </tr>


        {% for entite2 in Affichage[3][0]  %}
            {% set matiere = "Inconnu" %}
        <tr>
                <td>{{ entite2.note }}</td>
                <td>{{ entite2.getDateControle|date('d/m/Y') }}</td>

            {% for entite in Affichage[4][0]  %}

                {% if entite.id == entite2.getIdMatiereExt %}
                    {% set matiere = entite.getNameMatiere %}


                {% endif %}

            {% endfor %}
            <td>{{ matiere }}</td>

        </tr>

        {% endfor %}











    </table>

</div>
</body>
{% endblock %}
